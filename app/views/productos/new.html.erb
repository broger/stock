<h4>Nuevo Producto</h4><hr style="margin-top: 0px; padding-top: 0px;  margin-bottom:25px" />

<% form_for(@producto) do |f| %>
  <%= f.error_messages %>


<div class="brogertab">
            <ul id="myTab" class="nav nav-tabs">
              <li class="active"><a href="#general"    data-toggle="tab">Generales</a></li>
              <li class=""><a href="#categoria"  data-toggle="tab">Categoria</a></li>
              <li class=""><a href="#web"        data-toggle="tab">Web</a></li>
              <li class=""><a href="#descripcion" data-toggle="tab">Descripci&oacute;n</a></li>
            </ul>

  <div id="myTabContent" class="tab-content" style="padding:10px 0px 0px 30px">
                      <div class="tab-pane active" id="general">
                                        <table style="width:350px; display:inline; float: left">
                                          <tr >
                                                <th><%= f.label :codigo %></th>
                                                <td> <%  Producto.count >= 1  ? "#{Producto.last.id.to_i + 1}" : "0"  %></td>
                                               </tr>
                                              <tr>
                                                <th><%= f.label :nombre %></th>
                                                <td><%= f.text_field :nombre %></td>
                                              </tr>
                                              <tr>
                                                <th><%= f.label :costo, "Precio Costo" %></th>
                                                <td><%= f.text_field :costo %></td>
                                              </tr>
                                              <tr>
                                                <th><%= f.label :ganancia, "Ganacia % " %></th>
                                                <td><%= f.text_field :ganancia %></td>
                                              </tr>
                                              <tr>
                                                <th><%= f.label :descuento, "Descuento %" %></th>
                                                <td><%= f.text_field :descuento %></td>
                                              </tr>
                                              <tr>
                                                <th><%= f.label :iva, "IVA" %></th>
                                                <td><%= f.text_field :iva %></td>
                                              </tr>
                                               <tr>
                                                <th><%= f.label :moneda, "Moneda" %></th>
                                                <td> <% unless Moneda.count == 0 %>
                                                          <%=  Moneda.count > 1 ? "#{f.select :moneda_id, Moneda.find(:all).collect{|t|[t.nombre, t.id]}, {:include_blank => true}}" : "#{Moneda.first.nombre}" %>
                                                     <% end %>
                                                </td>
                                               </tr>
                                         </table>
                        <table style="width:350px; display:inline; float: left">
                                               <tr>
                                                <th><%= f.label :stock_minimo, "Stock M&iacute;nimo" %></th>
                                                <td><%= f.text_field :stock_minimo %></td>
                                              </tr>
                                              <tr>
                                                <th><%= f.label :unidad_id, "Unidad de M&eacute;dida" %></th>
                                                <td><%= f.select :unidad_id, Unidad.find(:all).collect{|t|[t.nombre, t.id]}, {:include_blank => true} %></td>
                                              </tr>
                                               <tr>
                                                <th><%= f.label :estado_id, "Estado" %></th>
                                                <td><%= f.select :estado_id, Estado.find(:all).collect{|t|[t.nombre, t.id]}, {:include_blank => true} %></td>
                                              </tr>
                                          </table>
                      </div>


                      <div class="tab-pane fade" id="categoria">
                                            <table style="width:350px; display:inline; float: left">
                                                <tr>
                                                     <th><%= f.label :rubro_id, "Rubro" %></th>
                                                     <td><% unless Rubro.count == 0 %>
                                                            <%=  Rubro.count > 1 ? "#{f.select :rubro_id, Rubro.find(:all).collect{|t|[t.nombre, t.id]}, {:include_blank => true}}" : "#{Rubro.first.nombre}" %>
                                                        <% end %>
                                                     </td>
                                                </tr>
                                                <tr>
                                                     <th><%= f.label :seccion_id, "Secci&iacute;n" %></th>
                                                     <td><%=  f.select :seccion_id, Seccion.find(:all).collect{|t|[t.nombre, t.id]}, {:include_blank => true}%></td>
                                                </tr>
                                                 <tr>
                                                     <th><%= f.label :categoria_id, "Categoria" %></th>
                                                     <td><%=  f.select :categoria_id, Categoria.find(:all).collect{|t|[t.nombre, t.id]}, {:include_blank => true}%></td>
                                                </tr>
                                            </table>
                                            <table style="width:350px; display:inline; float: left">
                                                <tr>
                                                       <th><%= f.label :codigo_proveedor, "C&oacute;digo Proveedor" %></th>
                                                       <td><%= f.text_field :codigo_proveedor %></td>
                                                  </tr>
                                                  <tr>
                                                       <th><%= f.label :proveedor_id, "Proveedor" %></th>
                                                       <td><%= f.select :proveedor_id, Proveedor.find(:all).collect{|t|[t.razon_social, t.id]}, {:include_blank => true} %></td>
                                                  </tr>
                                                    <tr>
                                                       <th><%= f.label :marca_id, "Marca" %></th>
                                                       <td><%= f.select :marca_id, Marca.find(:all).collect{|t|[t.razon_social, t.id]}, {:include_blank => true} %></td>
                                                  </tr>
                                             </table>

                      </div>

                      <div class="tab-pane fade" id="web">
                                             <table>
                                                  <tr>
                                                    <td> <div style="vertical-align: middle"><%= "#{f.check_box :visible_web} Visible para la Web" %></div></td>
                                                    <td></td>
                                                  </tr>
                                              </table>
                      </div>
              
              
                      <div class="tab-pane fade" id="descripcion">
                        <table style="width:100%">
                                <tr>
                                  <td><%= f.text_area :descripcion , :cols => "50", :rows => "10" ,:placeholder => 'describa el producto aqui ...'%></td>
                                </tr>
                        </table>
                                            
                      </div>


            </div> 

</div>
<br />
<br />
<div style="text-align: left"><p> <%= f.submit 'Guardar', :class=>"btn btn-danger" %> | <%= link_to 'Volver', productos_path %> </p></div>


<% end %>


  <script type="text/javascript">

    $('#myTab a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });


    
  </script>

<style type="text/css">
    .brogertab{
          min-height: 260px;
          height: auto;
    }

    table
    {
    width:100%;
    }
    th{ 
      
       text-align: left;

      }
    tr{
      height:40px;
     }
     table label{
        font-size: 11px;
      }

  </style>